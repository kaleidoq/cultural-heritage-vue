{"version":3,"sources":["webpack:///F:/uniapp/cultural-heritage-vue/components/popup-share/popup-share.vue?11c8","webpack:///F:/uniapp/cultural-heritage-vue/components/popup-share/popup-share.vue?6b18","webpack:///F:/uniapp/cultural-heritage-vue/components/popup-share/popup-share.vue?e60e","webpack:///F:/uniapp/cultural-heritage-vue/components/popup-share/popup-share.vue?7e94","uni-app:///components/popup-share/popup-share.vue","webpack:///F:/uniapp/cultural-heritage-vue/components/popup-share/popup-share.vue?e14b","webpack:///F:/uniapp/cultural-heritage-vue/components/popup-share/popup-share.vue?b140"],"names":[],"mappings":"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","file":"components/popup-share/popup-share.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./popup-share.vue?vue&type=template&id=70be22fc&scoped=true&\"\nvar renderjs\nimport script from \"./popup-share.vue?vue&type=script&lang=js&\"\nexport * from \"./popup-share.vue?vue&type=script&lang=js&\"\nimport style0 from \"./popup-share.vue?vue&type=style&index=0&id=70be22fc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70be22fc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/popup-share/popup-share.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./popup-share.vue?vue&type=template&id=70be22fc&scoped=true&\"","var components\ntry {\n  components = {\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showShare = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.showShare = true\n    }\n\n    _vm.e2 = function($event) {\n      _vm.showShare = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./popup-share.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./popup-share.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 分享弹窗 -->\r\n\t<u-popup class=\"bottom-share\" mode=\"bottom\" :show=\"showShare\" @close=\"showShare = false\" @open=\"showShare = true\">\r\n\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t<view class=\"text-center py-20 text-32\">\r\n\t\t\t分享到\r\n\t\t</view>\r\n\t\t<view class=\"flex justify-evenly items-center\">\r\n\t\t\t<template v-for=\"(item,index) in providerList\">\r\n\t\t\t\t<view v-if=\"isShow(item)\" :key=\"index\" class=\"share-item\" hover-class=\"bg-gray-100\" @tap=\"share(item)\">\r\n\t\t\t\t\t<image :src=\"item.img\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef MP || QUICKAPP-WEBVIEW -->\r\n\t\t<view class=\"uni-btn-v uni-common-mt\">\r\n\t\t\t<button type=\"primary\" open-type=\"share\">分享</button>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<view class=\"share-cancle\" @click=\"showShare = false\" hover-class=\"bg-gray-300\">\r\n\t\t\t取消\r\n\t\t</view>\r\n\t</u-popup>\r\n</template>\r\n\r\n<script>\r\n\t/*\r\n\t * PopupShare 分享弹窗\r\n\t * @description 用于分享到：朋友圈、微信等\r\n\t * @author MrThinco\r\n\t * @property {Boolean} show 分享弹窗显隐性\r\n\t */\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tshow: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tshow(val) {\r\n\t\t\t\tthis.showShare = val\r\n\t\t\t},\r\n\t\t\tshowShare(val) {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\t// h5 滚动穿透处理\r\n\t\t\t\tif(val) {\r\n\t\t\t\t\tdocument.body.style.overflow = \"hidden\"\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdocument.body.style.overflow = \"visible\"\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.$emit('update:show', val)\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowShare: false,\r\n\t\t\t\tproviderList: [],\r\n\t\t\t\tshareType: 1, // 1文字 2图片 0图文 5小程序\r\n\t\t\t\ttitle: 'share',\r\n\t\t\t\tshareText: 'uni-app可以同时发布成原生App、小程序、H5，邀请你一起体验！',\r\n\t\t\t\thref: \"https://uniapp.dcloud.io\",\r\n\t\t\t\timage: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 是否禁用\r\n\t\t\tisShow() {\r\n\t\t\t\treturn function(item) {\r\n\t\t\t\t\t// QQ 不支持图文\r\n\t\t\t\t\tif (this.shareType === 0 && item.id === 'qq') {\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 小程序仅支持微信好友\r\n\t\t\t\t\tif (this.shareType === 5 && item.name !== '微信好友') {\r\n\t\t\t\t\t\treturn false\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 监听微信小程序分享\r\n\t\tonShareAppMessage() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: this.shareText ? this.shareText : \"欢迎体验uni-app\",\r\n\t\t\t\tpath: '/pages/tabBar/component/component',\r\n\t\t\t\timageUrl: this.image ? this.image :\r\n\t\t\t\t\t'https://vkceyugu.cdn.bspapp.com/VKCEYUGU-dc-site/b6304f00-5168-11eb-bd01-97bc1429a9ff.png'\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeDestroy: function() {\r\n\t\t\tthis.shareText = 'uni-app可以同时发布成原生App、小程序、H5，邀请你一起体验！',\r\n\t\t\t\tthis.href = 'https://uniapp.dcloud.io',\r\n\t\t\t\tthis.image = '';\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tuni.getProvider({\r\n\t\t\t\tservice: 'share',\r\n\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\tconsole.log('success', e);\r\n\t\t\t\t\tlet data = []\r\n\t\t\t\t\tfor (let i = 0; i < e.provider.length; i++) {\r\n\t\t\t\t\t\tswitch (e.provider[i]) {\r\n\t\t\t\t\t\t\tcase 'weixin':\r\n\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\timg: '/static/img/share/wx.svg',\r\n\t\t\t\t\t\t\t\t\tname: '微信好友',\r\n\t\t\t\t\t\t\t\t\tid: 'weixin',\r\n\t\t\t\t\t\t\t\t\tsort: 0\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\timg: '/static/img/share/pyq.svg',\r\n\t\t\t\t\t\t\t\t\tname: '朋友圈',\r\n\t\t\t\t\t\t\t\t\tid: 'weixin',\r\n\t\t\t\t\t\t\t\t\ttype: 'WXSenceTimeline',\r\n\t\t\t\t\t\t\t\t\tsort: 1\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'sinaweibo':\r\n\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\timg: '/static/img/share/wb.svg',\r\n\t\t\t\t\t\t\t\t\tname: '新浪微博',\r\n\t\t\t\t\t\t\t\t\tid: 'sinaweibo',\r\n\t\t\t\t\t\t\t\t\tsort: 2\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'qq':\r\n\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\timg: '/static/img/share/qq.svg',\r\n\t\t\t\t\t\t\t\t\tname: 'QQ好友',\r\n\t\t\t\t\t\t\t\t\tid: 'qq',\r\n\t\t\t\t\t\t\t\t\tsort: 3\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.providerList = data.sort((x, y) => {\r\n\t\t\t\t\t\treturn x.sort - y.sort\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.log('providerList', this.providerList)\r\n\t\t\t\t},\r\n\t\t\t\tfail: (e) => {\r\n\t\t\t\t\tconsole.log('获取分享通道失败', e);\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '获取分享通道失败',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 分享\r\n\t\t\tasync share(e) {\r\n\t\t\t\tconsole.log('分享通道:' + e.id + '； 分享类型:' + this.shareType);\r\n\r\n\t\t\t\tif (!this.shareText && (this.shareType === 1 || this.shareType === 0)) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '分享内容不能为空',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.image && (this.shareType === 2 || this.shareType === 0)) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '分享图片不能为空',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet shareOPtions = {\r\n\t\t\t\t\tprovider: e.id,\r\n\t\t\t\t\tscene: e.type && e.type === 'WXSenceTimeline' ? 'WXSenceTimeline' :\r\n\t\t\t\t\t'WXSceneSession', //WXSceneSession”分享到聊天界面，“WXSenceTimeline”分享到朋友圈，“WXSceneFavorite”分享到微信收藏     \r\n\t\t\t\t\ttype: this.shareType,\r\n\t\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t\tconsole.log('success', e);\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '已分享',\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.log('fail', e)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: e.errMsg,\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: function() {\r\n\t\t\t\t\t\tconsole.log('分享操作结束!')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tswitch (this.shareType) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tshareOPtions.summary = this.shareText;\r\n\t\t\t\t\t\tshareOPtions.imageUrl = this.image;\r\n\t\t\t\t\t\tshareOPtions.title = '欢迎体验uniapp';\r\n\t\t\t\t\t\tshareOPtions.href = 'https://uniapp.dcloud.io';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tshareOPtions.summary = this.shareText;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tshareOPtions.imageUrl = this.image;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\tshareOPtions.imageUrl = this.image ? this.image :\r\n\t\t\t\t\t\t\t'https://vkceyugu.cdn.bspapp.com/VKCEYUGU-dc-site/b6304f00-5168-11eb-bd01-97bc1429a9ff.png'\r\n\t\t\t\t\t\tshareOPtions.title = '欢迎体验uniapp';\r\n\t\t\t\t\t\tshareOPtions.miniProgram = {\r\n\t\t\t\t\t\t\tid: 'gh_33446d7f7a26',\r\n\t\t\t\t\t\t\tpath: '/pages/tabBar/component/component',\r\n\t\t\t\t\t\t\twebUrl: 'https://uniapp.dcloud.io',\r\n\t\t\t\t\t\t\ttype: 0\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (shareOPtions.type === 0 && plus.os.name === 'iOS') { //如果是图文分享，且是ios平台，则压缩图片 \r\n\t\t\t\t\tshareOPtions.imageUrl = await this.compress();\r\n\t\t\t\t}\r\n\t\t\t\tif (shareOPtions.type === 1 && shareOPtions.provider === 'qq') { //如果是分享文字到qq，则必须加上href和title\r\n\t\t\t\t\tshareOPtions.href = 'https://uniapp.dcloud.io';\r\n\t\t\t\t\tshareOPtions.title = '欢迎体验uniapp';\r\n\t\t\t\t}\r\n\t\t\t\tuni.share(shareOPtions);\r\n\t\t\t},\r\n\t\t\t// 压缩图片 图文分享要求分享图片大小不能超过20Kb\r\n\t\t\tcompress(){\r\n\t\t\t\tconsole.log('开始压缩');\r\n\t\t\t\tlet img = this.image;\r\n\t\t\t\treturn new Promise((res) => {\r\n\t\t\t\t\tvar localPath = plus.io.convertAbsoluteFileSystem(img.replace('file://', ''));\r\n\t\t\t\t\tconsole.log('after' + localPath);\r\n\t\t\t\t\t// 压缩size\r\n\t\t\t\t\tplus.io.resolveLocalFileSystemURL(localPath, (entry) => {\r\n\t\t\t\t\t\tentry.file((file) => {// 可通过entry对象操作图片 \r\n\t\t\t\t\t\t\tconsole.log('getFile:' + JSON.stringify(file));\r\n\t\t\t\t\t\t\tif(file.size > 20480) {// 压缩后size 大于20Kb\r\n\t\t\t\t\t\t\t\tplus.zip.compressImage({\r\n\t\t\t\t\t\t\t\t\tsrc: img,\r\n\t\t\t\t\t\t\t\t\tdst: img.replace('.jpg', '2222.jpg').replace('.JPG', '2222.JPG'),\r\n\t\t\t\t\t\t\t\t\twidth: '10%',\r\n\t\t\t\t\t\t\t\t\theight: '10%',\r\n\t\t\t\t\t\t\t\t\tquality: 1,\r\n\t\t\t\t\t\t\t\t\toverwrite: true\r\n\t\t\t\t\t\t\t\t}, (event) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log('success zip****' + event.size);\r\n\t\t\t\t\t\t\t\t\tlet newImg = img.replace('.jpg', '2222.jpg').replace('.JPG', '2222.JPG');\r\n\t\t\t\t\t\t\t\t\tres(newImg);\r\n\t\t\t\t\t\t\t\t}, function(error) {\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\tcontent:'分享图片太大,需要请重新选择图片!',\r\n\t\t\t\t\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, (e) => {\r\n\t\t\t\t\t\tconsole.log('Resolve file URL failed: ' + e.message);\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent:'分享图片太大,需要请重新选择图片!',\r\n\t\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.bottom-share {\r\n\t\t.share-item {\r\n\t\t\theight: 150rpx;\r\n\t\t\twidth: 100rpx;\r\n\t\t\tpadding: 20rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tflex: 1;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 100rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t}\r\n\r\n\t\t\ttext {\r\n\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.share-cancle {\r\n\t\t\ttext-align: center;\r\n\t\t\tmargin: 20rpx 40rpx;\r\n\t\t\tpadding-top: 20rpx;\r\n\t\t\tpadding-bottom: 20rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tborder-radius: 50rpx;\r\n\t\t\tborder: 1rpx solid $uni-border-color1;\r\n\t\t\tbackground-color: $uni-bg-color-gray;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./popup-share.vue?vue&type=style&index=0&id=70be22fc&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.3.6.2.20220914\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./popup-share.vue?vue&type=style&index=0&id=70be22fc&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1680277985412\n      var cssReload = require(\"E:/HBuilderX.3.6.2.20220914/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}